JFLAGS = -cp .:lib/postgresql-42.7.3.jar
JC = javac
JVM = java

SOURCES = $(shell find . -name "*.java")
CLASSES = $(SOURCES:.java=.class)

all: compile

compile:
	@echo "ğŸ”¨ A compilar projeto..."
	$(JC) $(JFLAGS) $(SOURCES)
	@echo "âœ… CompilaÃ§Ã£o concluÃ­da!"

run-server:
	@echo "ğŸš€ A iniciar o servidor (RMI + ADMIN SOCKET)..."
	$(JVM) -cp .:lib/postgresql-42.7.3.jar server.Servidor

run-cliente-geral:
	@echo "ğŸ§‘â€ğŸ’» A iniciar Cliente Geral..."
	$(JVM) -cp .:lib/postgresql-42.7.3.jar client.ClienteGeral

run-cliente-admin:
	@echo "ğŸ§‘â€ğŸ’¼ A iniciar Cliente Admin (Sockets)..."
	$(JVM) -cp .:lib/postgresql-42.7.3.jar client.ClienteAdmin

clean:
	@echo "ğŸ§¹ A apagar .class..."
	find . -name "*.class" -delete
	@echo "âœ… Limpeza concluÃ­da!"
